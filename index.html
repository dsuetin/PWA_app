<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PWA Floor Plan Editor</title>

    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="style.css" />

    <!-- OpenCV.js (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤ –±—É–¥—É—â–µ–º) -->
    <script src="./libs/opencv.js"></script>
</head>
<body>

<div class="container">
    <h1>–†–µ–¥–∞–∫—Ç–æ—Ä –ø–ª–∞–Ω–∞ –ø–æ–º–µ—â–µ–Ω–∏–π üè†</h1>

    <div style="margin-bottom: 10px;">
        <button id="floorBtn">–†–µ–∂–∏–º —Ä–∏—Å–æ–≤–∞–Ω–∏—è –ª–∏–Ω–∏–π</button>
        <button id="lengthBtn">–ó–∞–¥–∞—Ç—å –¥–ª–∏–Ω—É –ª–∏–Ω–∏–∏</button>

        <input id="lineLengthInput" type="number" min="10" value="100"
               style="width:80px; display:none;"> px
    </div>

    <canvas id="canvas" width="800" height="600"
            style="border:1px solid #555; background:#111; display:block; margin:10px auto;">
    </canvas>

    <div id="result"></div>

    <button id="installBtn">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
</div>

<script type="module" src="app.js"></script>

<!-- SERVICE WORKER -->
<script>
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js")
        .then(() => console.log("SW registered"))
        .catch(err => console.error("SW error:", err));
}
</script>

</body>
</html>
